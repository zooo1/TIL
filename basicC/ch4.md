# 표준 입출력 함수

## 데이터형과 형식변환 문자

| 변환문자 |               변환 내용               |
| :------: | :-----------------------------------: |
|    %d    |           부호 있는 10진수            |
|    %o    |            부호 없는 8진수            |
|  %x(X)   |           부호 없는 16진수            |
|    %u    |           부호 없는 10진수            |
|    %s    |                문자열                 |
|    %f    |               실수형태                |
|  %e(E)   |               지수형태                |
|  %g(G)   | %f 또는 %e의 변환 중 문자수가 적은 쪽 |
|    %c    |                한 문자                |
|    %p    |      16진수 8자리로 주소값 출력       |
|    %%    |              % 기호 출력              |



## 표준 출력 함수 printf()

### 형식

```c
printf("출력양식", 출력대상); // 출력 대상은 생략 가능함
```

```c++
n = printf("ABC");
// 1. call
// 2. return(성공적으로 출력한 data의 개수 '\0' 제외)
```

### 출력양식의 3요소

1. 일반 출력 문자( a = ) : 화면에 그대로 출력되는 요소
2. Escape Sequence( \n ) : 기능에 맞게 출력되는 요소
3. 형식 변환 문자( %d ): 출력 대상을 자신의 형태대로 해석하여 출력하는 요소



### 출력대상의 4요소

1. 변수

2. 상수

3. 수식

4. 함수 리턴 값

    

### 동작 원리

출력대상을 stack 구조의 출력 버퍼에 저장한 후 형식 변환 문자의 형태대로 버퍼에서 꺼내어 출력한다.

### printf() 함수의 변경자

| 변경자  |              의미               |  예시   |
| :-----: | :-----------------------------: | :-----: |
| 10진수  |           필드폭 지정           |   %5d   |
| .10진수 |             정밀도              |  %.2f   |
|    h    |             short형             |   %hu   |
|    l    |             long형              | %ld, lf |
|   ll    |            long long            |  %lld   |
|    L    |           long double           |   %Lf   |
|    *    | 필드폭, 정밀도 등을 임의로 지정 |   %*d   |

### printf() 함수의 플래그

| 플래그 |          의미          |   예시   |
| :----: | :--------------------: | :------: |
|   -    |     왼쪽부터 시작      |  %-20s   |
|   +    |     수치 앞에 부호     |  %+6.2f  |
|  공백  |    양: 공백, 음: -     | %. 6.2f  |
|   #    |     접두어 붙여줌      | %#o, %#x |
|   0    | 여분 공간을 0으로 채움 |   %08d   |

### sprintf()

printf()는 모니터에 출력한다.

 sprintf()는 문자열에 출력하는 함수이다. 즉 출력 내용을 저장한다.

printf()와는 다르게 출력을 저장할 char 배열의 시작 주소를 저장한다.

```c++
#include <stdio.h>
int main(){
        char str[100];
        double pi = 3.141592;
        sprintf(str, "pi: %.2lf", pi);
        printf("%s", str);
        return 0;
}
```



## 표준 입력 함수

### 형식

```c++
scanf("입력양식", 입력대상처의 주소)
```

### 입력양식의 구성요소

- 형식 변환문자(%d)

- 구분자

  여러 개의 데이터 입력 시 데이터 사이를 구분하기 위한 문자. 단, 마지막 형식변환 문자 뒤에는 구분자를 쓰지 않는다.

  space, tab, enter

### 입력 대상처의 시작주소

- 반드시 주소를 지정 (& 사용)

  단, 배열명의 경우는 배열명 자신이 시작주소를 의미하므로 안써도 됨

- 배열명임에도 불구하고 &를 써야하는 경우

  ```c++
  char s[5] = "sky";
  scanf("%c", s); //a -> aky
  scanf("%c", &s[2]); // 아래와 같은 표현이다.
  scanf("%c", s+2); 
  ```

- 버퍼화 입력함수( scanf(), getchar(), gets(), fgets() )

  - startup code가 버퍼를 할당해줌

  - 버퍼에는 임시로 char 상태로 들어가 있고 입력 버퍼로부터 나오면 형식변환문자 배열에 임시로 저장한다.

  - 입력 버퍼에 `\n` 이 남아잇으면 다음 scanf에 영향을 미친다.

    없애 주어야함 -> **getchar()** 를 이용하여!

  

### 변경자

|   변경자    |                             의미                             | 예시 |
| :---------: | :----------------------------------------------------------: | :--: |
|      *      |                입력은 받으나 변수에 저장 안함                | %*d  |
|   10진수    | 최대 필드 폭, 문자열 입력 시 첫 번째 여백 문자를 만나거나 최대 필드 폭에 도착하면 입력 중지 | %5s  |
| h, l, ll, L | short, long, long long, long double 형으로 입력 받을 때 사용 | %hd  |



## 단일문자입력 함수(버퍼화입력의 의미)

### 문자 전용 입력 함수의 사용

`getchar()`, `getch()`, `getche()`

- 전달인자: 없음
- return 값: 성공적으로 입력 받은 문자의 아스키 코드 값

