# 연산자

## 연산자의 기본개념

### 연산자(operator)

프로그램 상수, 변수 등에 대하여 여러가지 조작을 하기 위한 기호이다

단어로 되어있는 연산자도 있음

### 피연산자(operand)

연산자에 대해서 연산이 적용되는 대상

상수, 변수

어떠한 연산자도 다른 항의 피연산자가 될 수 없다.



## 연산자 우선순위표

3~12순위는 이항 연산자이다.

| 순위 | 명칭     | 연산자                          | 결합 방향 |
| ---- | -------- | ------------------------------- | --------- |
| 1    | 1차      | () [] . ->                      | ->        |
| 2    | 단항     | + - ! ~ sizeof (type) ++ — & *  | <-        |
| 3    | 승법     | * / %                           | ->        |
| 4    | 가법     | + -                             |           |
| 5    | shift    | >> <<                           |           |
| 6    | 관계     | < > <= =>                       |           |
| 7    | 등가     | == !=                           |           |
| 8    | bit곱    | &                               |           |
| 9    | bit차    | **^**                           |           |
| 10   | bit합    | \|                              |           |
| 11   | 논리곱   | &&                              |           |
| 12   | 논리합   | \|\|                            |           |
| 13   | 삼항조건 | ?:                              | <-        |
| 14   | 대입     | = += -= /= %= <<= >>= &= \|= ^= | <-        |
| 15   | 순차     | ,                               | ->        |

### 두가지 기능으로 사용되는 연산자

#### `+` 

- 단항: unary plus(현재 부호유지)
- 이항: 덧셈

#### `-`

- 단항: unary minus(현재 부호반전)
- 이항: 뺄셈

#### `*`

- 단항: pointer 연산자
- 이항: 곱셈

#### `&`

- 단항: 주소추출연산자
- 이항: bit AND



### 메모

1. `,` 순차 연산자의 특징

   ```c
   #include <stdio.h>
   int main(){
           int a,b,c;
           a = 10, 20, 30;
           b = (10, 20, 30);
           printf("a: %d\t b: %d", a,b);
           return 0;
   }
   // a: 10	b: 30
   ```

   

2. a = b = 0; 

   역방향!

## 연산자 기능의 이해

### 1순위 연산자의 이해

1. `()`: 수식의 우선순위 변경
2. `[]`: 배열선언, 배열 요소 저장
3. `.`: 구조체 및 공용체의 멤버 연산자(membership operator)
4. `->`: 구조체 및 공용체의 간접멤버 참조 연산자



### 단항 연산자의 이해

1. `-`: 부호 반전 `+`: 부호 유지

   ```c
   a = +-+-+-+7; // -7;
   ```

   

2. `!`: 논리부정

   0: False

   나머지: True

3. `++` `—` : 1증가/감소

   다른 연산자와 함께 쓰일 때 전위형, 후위형으로 처리됨

   - 전위형(prefix): 현재 변수 의 값을 **증감** 시킨 후, 증감된 값으로 **다른 연산 수행 ** 
   - 후위형(postfix): 현재 변수의 값으로 다른 연산을 수행한 후, 변수 값을 증감
   - 혼자 수행할 때는 같음

   ```c
   int a = 7;
   b = ++a; 
   /* 
   순서
   1. a 증가
      a = 7 -> 8
   2. a 값을 b에 대입
   	b = a (8)
   */
   
   int a = 7;
   b = a++;
   /*
   순서
   1. b에 a값을 대입
   2. a 증가
   */
   ```

4. `~` One's complement

   1의 보수 연산자

5. `(type)` : Cast 연산자(형변환연산자)

   - 자동형변환의 기본 방식

   1. 작은형 -> 큰형
   2. 대입문에서는 오른쪽의 자료가 왼쪽의 변수의 형으로 변환되어 대입된다.
   3. 0차원의 기본 데이터형에서만 발생한다.

   - Cast 연삱의 효과는 언제까지?

     ```c
     int a = 10;
     double res; 
     res = (double)a/3 + a/3;  //6.33333
     ```

   - 위치

     ```c
     int a;
     (double)a = 7.5+8.2; 
     // compile ERROR! 
     // 7 = 3 과 같은 에러이다.
     // cast 연산의 결과는 상수이기 때문
     
     ```

6. `&` : 주소 추출 연산자

7. `*` : 포인터 연산자

   - 선언문: pointer 변수(주소상수 저장 변수) 선언 시 사용

   - 실행문: pointer 변수가 가리키는 대상체를 의미

   - 특징

     - 포인터 변수는 주소를 저장하는 변수이다. 즉, pointer는 4Byte
     - char *p,  int *p 등은 char, int 형이 아니라 주소를 저장하는 변수이다.
     - 포인터가 미예약영역을 사용하면 process kill 당한다. 따라서 선언과 동시에 가리킬 주소를 지정해주어야한다.
     - *ptr, &ptr, ptr 이 무슨 의미인지 알자

     

### 이항 연산자의 이해

1. `<<` `>>` : shift 연산자

   - shift 연산자를 이용하여 특정정수의 값의 10배를 구하고자하면 8의 배수 + 2의 배수 형태로 결과를 얻으면 된다.

     즉, (n<<3)+(n<<1)로 계산 

     n*10보다 빠른 수행속도

   - 피연산자보다 shift 값이 더 크면 `%` 가 저절로 붙는다

     ```c
     int k, res;
     res = k <<33; 
     /*
     res = k >> (33%32) 
     res = k >> 1;
     */
     
     ```

2. `%` : 나머지 연산자

3. `<` , >, <=, >=: 관계연산자

4. `==`, `!=`: 등가연산자

5. `&`, `|`,`^`: bitwise

6. `&&`, `||`: logical AND, OR

- 특징

  1. 수학적 표기와의 차이점

  2. short cut 기능: 처리 속도의 효율성을 고려한 기능. 연산자 우선순위도 무시한다.

     logical AND : 왼편이 거짓이면 오른쪽은 계산 안됨

     logical OR: 왼편이 참이면 오른쪽은 계산 안됨



### 삼항 연산자와 대입 연산자, 단축형 연산자

1. `?:`: 조건연산자(3항연산자)

   - 형식

     (조건식) ? (참) : (거짓)

     ```c
     int max = (a>b) ? a : b;
     // 참이면 a를 거짓이면 b를 max에 대입한다.
     ```

2. `=` , `+=` , `-=` … : 대입 및 단축형 연산자

   좌측의 피연산자를 우측의 피연산자 값 만큼 연산을 행하여 갱신한다.

